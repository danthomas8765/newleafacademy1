---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import TestimonialCarousel from '../components/TestimonialCarousel.astro';

import { Image } from 'astro:assets'; 
// Assuming your banner image is in the 'src/assets/' directory
import bannerImage from '../assets/banner.jpg';
// Your logo image
import logoImage from '../assets/logo.svg';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		
		<div class="hero" style={`background-image: url(${bannerImage.src})`}>
			<div class="hero-overlay"></div>
			<div class="hero-content">
				
                <div class="tagline-wrapper">
					<Image
						src={logoImage}
						alt="New Leaf Academy Logo"
						class="hero-logo"
					/>
					<h1 class="tagline">
						Grow with Confidence
					</h1>
				</div>

				<p class="sub-tagline">
					Unlock potential with expert online tutoring. ðŸŽ“ Personalized, confidence-building tuition in Maths, English, Science, & more, from KS3 to A-level.
				</p>
				<a href="/consultations/" class="cta-button">
					Book your free consultation and taster session now!
				</a>
			</div>
		</div>

		<main class="content-area"> {/* âœ… ADDED 'content-area' class */}
			<section class="our-promise">
				<h2>Our Promise to You</h2>
				<p>
					We promise to focus on the root of the challenge, not just the symptoms. We know the real barrier to learning is often self-doubt. Our commitment is to rebuild your childâ€™s confidence by championing their small victories and nurturing their curiosity. We will guide them to that breakthrough moment where the fear of failure is replaced by the courage to try, allowing them to finally see how capable they've always been.
				</p>
			</section>
			
			<div class="scroll-prompt" id="scroll-prompt">
				<p>Scroll down to see <br> what our students <br> say about us</p>
				<svg class="scroll-arrow" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
		<path d="M12 5v14m-7-7l7 7 7-7" />
	</svg>
			</div>
	
			<h2 class="testimonial-heading">What our students and parents have to say</h2>
			<TestimonialCarousel />
		</main>

		<Footer />
	</body>
</html>

<style>
	/* --- Hero Section Styles --- */
	.hero {
		position: relative;
		height: 100vh;
		width: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
		text-align: center;
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		color: var(--accent);
        /* Ensure the header doesn't hide the top of the hero */
        padding-top: var(--header-height, 4rem); /* Assuming header has a height variable or fixed height */
        box-sizing: border-box; /* Include padding in height calculation */
        height: calc(100vh - var(--header-height, 4.5rem)); /* Adjust full height for header */
	}

	.hero-overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba(0, 0, 0, 0.3);
	}

	.hero-content {
		position: relative;
		background-color: rgba(255, 255, 255, 0.8);
		padding: 2.5em 3em;
		border-radius: 12px;
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
		max-width: 90%;
		width: 700px;
	}

    .tagline-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1.5em;
        margin-bottom: 1em;
    }

    .hero-logo {
        width: 160px;
        height: auto;
        flex-shrink: 0;
    }

	.tagline {
		font-size: clamp(2em, 6vw, 3.2em);
		line-height: 1.1;
        margin: 0;
		font-weight: 700;
        text-align: left;
	}
    
    .sub-tagline {
		font-size: clamp(1.1em, 2.5vw, 1.3em);
		margin: 0 auto 1.5em;
	}

	.cta-button {
		display: inline-block;
		margin-top: 1em;
		padding: 1em 2em;
		background-color: var(--accent-pop);
		color: white;
		font-weight: bold;
		text-decoration: none;
		border-radius: 8px;
		box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
		transition: transform 0.3s ease, box-shadow 0.3s ease;
	}

	.cta-button:hover {
		transform: translateY(-5px);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
	}

	/* --- Main Content Styles --- */
	.content-area { /* âœ… NEW class selector */
		padding: 4em 1em; /* Added horizontal padding */
		max-width: 1200px; /* Constrain max width for better readability */
		margin: 0 auto; /* Center the content area */
		text-align: center; /* Keep main content centered */
		color: var(--accent);
	}

	.our-promise {
		max-width: 700px;
		margin: 4em auto;
		padding: 2em;
		background-color: #f9f9f9;
		border-radius: 12px;
		box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
	}

	.our-promise h2 {
		font-size: clamp(1.5em, 4vw, 1.8em);
		margin-top: 0;
		color: var(--accent);
        text-align: center;
	}

	.our-promise p {
		font-size: clamp(1em, 2vw, 1.1em);
		margin-bottom: 0;
        text-align: center;
	}
	
	.testimonial-heading {
		text-align: center;
		color: var(--accent);
		font-size: clamp(1.5em, 4vw, 1.8em);
		margin: 3em 1em 1em;
	}

	/* --- Scroll Prompt Styles --- */
	.scroll-prompt {
		position: fixed;
		bottom: 2em;
		left: 2em;
		display: flex;
		flex-direction: column;
		align-items: center;
		color: var(--accent-pop);
		font-size: clamp(0.9em, 2vw, 1.1em);
		font-weight: bold;
		text-align: center;
		transition: opacity 0.5s ease-in-out;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 12px;
		box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        padding: 1em;
	}

	.scroll-arrow {
		width: 50px;
		height: 50px;
		margin-top: -0.5em;
		animation: bounce 2s infinite;
		color: var(--accent-pop);
	}

	@keyframes bounce {
		0%, 20%, 50%, 80%, 100% {
			transform: translateY(0);
		}
		40% {
			transform: translateY(-20px);
		}
		60% {
			transform: translateY(-10px);
		}
	}

	/* --- Responsive adjustments --- */
	@media (max-width: 1024px) {
		.scroll-prompt {
			display: none;
		}
	}
    
    @media (max-width: 600px) {
        .tagline-wrapper {
            flex-direction: column;
            gap: 1em;
        }
        .tagline {
            text-align: center;
        }
    }
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const scrollPrompt = document.getElementById('scroll-prompt');

		if (scrollPrompt) {
			let hasScrolled = false;
			
			const handleScroll = () => {
				if (window.scrollY > 800 && !hasScrolled) {
					scrollPrompt.style.opacity = '0';
					setTimeout(() => {
						scrollPrompt.remove();
					}, 1000);
					hasScrolled = true;
				}
			};

			window.addEventListener('scroll', handleScroll);
		}
	});
</script>